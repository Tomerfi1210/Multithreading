One thread gets data and put it on buffer.
other thread read from the buffer.

The problem:
we have busy wait.

Solution:
use two buffer.
